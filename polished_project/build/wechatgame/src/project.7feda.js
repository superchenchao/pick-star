require=function c(a,s,r){function u(t,e){if(!s[t]){if(!a[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return u(a[t][1][e]||e)},i,i.exports,c,a,s,r)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<r.length;e++)u(r[e]);return u}({AnimLayerTool:[function(e,t,o){"use strict";cc._RF.push(t,"085c9KpgYdPn6UmjQwVowTq","AnimLayerTool");e("GameConfig");var p=e("GameTools"),n={moveButtonAnimTime:.3,bottonAnim:function(e){var t=new Array;null==e.length?t[0]=e:t=e;for(var o=0;o<t.length;o++){var n=5*cc.random0To1()+1,i=t[o].height/20,c=cc.jumpBy(n,cc.p(i,0),i,1),a=cc.jumpBy(n,cc.p(-i,0),-i,1),s=cc.scaleBy(.3,1.1,.9),r=cc.delayTime(n),u=cc.sequence(c,a,s,s.reverse(),r);t[o].runAction(u.repeatForever())}},createShowMessageBox:function(e,t,o,n,i){var c=new cc.Node;c.addComponent(cc.Sprite).spriteFrame=p.love2048FrameCache.getSpriteFrame("messageBox0"),c.setPosition(e,t),c.rotation=n,c.opacity=0,i.addChild(c);var a=new cc.Node;if(a.setPosition(0,30),-1!=o.indexOf("messageBox"))a.addComponent(cc.Sprite).spriteFrame=p.love2048FrameCache.getSpriteFrame(o);else{var s=new cc.Node,r=s.addComponent(cc.Label);r.string=o,r.fontSize=30,r.overflow=cc.Label.Overflow.CLAMP,r.enableWrapText=!0,r.horizontalAlign=cc.Label.HorizontalAlign.CENTER,r.verticalAlign=cc.Label.VerticalAlign.CENTER,s.width=220,s.height=300,a.addChild(s)}c.addChild(a);var u=cc.fadeIn(.2),l=cc.delayTime(1),h=cc.fadeOut(.2),d=cc.callFunc(this.callFuncAddScore,this,c),m=cc.sequence(u,l,h,d);c.runAction(m)},callFuncAddScore:function(e,t){e.destroy()},createPopStarAnim:function(e,t){var o=cc.callFunc(this.callFuncPopStarAnim,this,e);e.runAction(cc.sequence(cc.delayTime(t),o,cc.fadeOut()))},callFuncPopStarAnim:function(e,t){var o=new cc.Node;o.setPosition(t.getPosition());var n=o.addComponent(cc.ParticleSystem);switch(n.texture="res/raw-assets/resources/stars.png",t.number){case 0:n.startColor=cc.color(255,226,0);break;case 1:n.startColor=cc.color(235,110,165);break;default:n.startColor=cc.color(253,44,129)}n.startColorVar=cc.color(0,0,0,0),n.endColorVar=cc.color(0,0,0,0),n.endColor=n.startColor,n.autoRemoveOnFinish=!0,n.duration=.1,n.emissionRate=200,n.life=2,n.lifeVar=.5,n.angle=90,n.angleVar=360,n.custom=!0,n.playOnLoad=!0,t.getParent().addChild(o),t.active=!1}};t.exports=n,cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools"}],GameConfig:[function(e,t,o){"use strict";cc._RF.push(t,"dc1f9Hun/RIAIsu+H1LSFdF","GameConfig");t.exports={GameClubButton:null,GameScene:null,DEVICE_WIDTH:960,DEVICE_HEIGHT:640,MAIN_MENU_NUM:"Classic",GameCore:0,GameHeightScore:0,IS_GAME_MUSIC:!0,IS_GAME_SHARE:!1,IS_GAME_START:!1,IS_GAME_OVER:!1},cc._RF.pop()},{}],GameOver:[function(e,t,o){"use strict";cc._RF.push(t,"b90adtLYyVDXLWgQnoNn54/","GameOver");var n=e("GameConfig"),i=e("AnimLayerTool"),c=e("GameTools"),a=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,game_over:cc.Node,scoreLabel:cc.Label,bestScoreLabel:cc.Label,rankButton:cc.Node,shareButton:cc.Node,backButton:cc.Node,restartButton:cc.Node,rankingScrollView:cc.Sprite},onLoad:function(){this.scoreLabel.string=n.GameCore,this.bestScoreLabel.string=n.GameHeightScore,c.submitScore(n.GameHeightScore),this.tex=new cc.Texture2D,window.sharedCanvas.width=960,window.sharedCanvas.height=640,window.wx.postMessage({messageType:4,MAIN_MENU_NUM:n.MAIN_MENU_NUM}),a.setButtonClickEvents(this,this.rankButton,"buttonFunc"),a.setButtonClickEvents(this,this.shareButton,"buttonFunc"),a.setButtonClickEvents(this,this.backButton,"buttonFunc"),a.setButtonClickEvents(this,this.restartButton,"buttonFunc"),this.showAnimation(!0)},buttonFunc:function(e){var t=e.target;return this.rankButton==t?(c.playSimpleAudioEngine(0),c.getRankData()):this.shareButton==t?(c.playSimpleAudioEngine(0),setTimeout(function(){c.sharePicture()},100)):this.restartButton==t?(c.playSimpleAudioEngine(0),this.restartResource("game")):this.backButton==t&&(c.playSimpleAudioEngine(0),this.restartResource("prepare")),!0},restartResource:function(e){c.removeRankData(),a.loadingScene(e)},_updateSubDomainCanvas:function(){null!=window.sharedCanvas&&(this.tex.initWithElement(window.sharedCanvas),this.tex.handleLoadedTexture(),this.rankingScrollView.spriteFrame=new cc.SpriteFrame(this.tex))},update:function(){this._updateSubDomainCanvas()},showAnimation:function(e){e&&(i.bottonAnim(this.game_over),i.bottonAnim(this.shareButton),i.bottonAnim(this.restartButton),i.bottonAnim(this.backButton))}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameTools:[function(e,t,o){"use strict";cc._RF.push(t,"769f1W1l8lBLZ6nfzNj9svi","GameTools");var n=e("GameConfig"),i={love2048FrameCache:null,numberLabelAtlas:null,playSimpleAudioEngine:function(e){if(n.IS_GAME_MUSIC)switch(e){case 0:cc.audioEngine.play(cc.url.raw("resources/audios/sfx_button.wav"),!1,.5);break;case 1:cc.audioEngine.play(cc.url.raw("resources/audios/sfx_highscore.wav"),!1,.5);break;case 2:cc.audioEngine.play(cc.url.raw("resources/audios/sfx_player_die.wav"),!1,.5);break;case 3:cc.audioEngine.play(cc.url.raw("resources/audios/sfx_player_jump.wav"),!1,.5);break;case 4:cc.audioEngine.play(cc.url.raw("resources/audios/sfx_score.wav"),!1,.5)}},getItemByLocalStorage:function(e,t){var o=cc.sys.localStorage.getItem(e);return null==o||""===o?(cc.sys.localStorage.setItem(e,t),t):"boolean"==typeof t?"boolean"==typeof o?o:"true"==o:"number"==typeof t?Number(o):o},setItemByLocalStorage:function(e,t){cc.sys.localStorage.setItem(e,t)},toastMessage:function(n){cc.loader.loadRes("panel/ShowMessage",function(e,t){if(!e){var o=cc.instantiate(t);o.getComponent(cc.Component).toastType=n,cc.director.getScene().getChildByName("Canvas").addChild(o)}})},showSpotAds:function(e){},autoShowSpotAds:function(e){},showAddInteardlView:function(){},showGameHelp:function(){},sharePicture:function(t){var e="点进去玩一下就好了。";"shareTicket"==t&&(e="看看你在群里排第几？点进去玩一下就好了。"),window.wx.shareAppMessage({title:e,query:"x="+n.MAIN_MENU_NUM,imageUrl:canvas.toTempFilePathSync({destWidth:500,destHeight:400}),success:function(e){null!=e.shareTickets&&0<e.shareTickets.length&&"shareTicket"==t&&window.wx.postMessage({messageType:5,MAIN_MENU_NUM:n.MAIN_MENU_NUM,shareTicket:e.shareTickets[0]})}}),this.saveImageToLocal()},authorization:function(){window.wx.getSetting({success:function(e){e.authSetting["scope.writePhotosAlbum"]?cc.director.loadScene("load"):wx.authorize({scope:"scope.writePhotosAlbum",success:function(){console.log("授权成功"),cc.director.loadScene("load")},fail:function(){console.log("授权失败"),window.wx.showModal({content:"您点击了拒绝授权,将无法保存图片到相册,想重新授权，请点击右上角菜单->关于（小程序名字）->右上角菜单->设置。"})}})}})},saveImageToLocal:function(){var e=cc.winSize.width,t=cc.winSize.height;window.wx.saveImageToPhotosAlbum({filePath:canvas.toTempFilePathSync({destWidth:e,destHeight:t}),success:function(e){console.log(e)},fail:function(e){console.log(e),"saveImageToPhotosAlbum:fail auth deny"===e.errMsg&&(console.log("用户一开始拒绝了，我们想再次发起授权"),console.log("打开设置窗口"))}})},getGameIntegral:function(){return this.getItemByLocalStorage("GameIntegral",0)},setGameIntegral:function(e){cc.sys.localStorage.setItem("GameIntegral",e)},commentGame:function(){window.wx.openCustomerServiceConversation({})},checkFirstLoginGame:function(){var e=Math.floor(((new Date).getTime()-new Date(2018,3,18,0,0,0,0).getTime())/864e5);e>this.getItemByLocalStorage("FirstEnterGameDate",0)&&(cc.sys.localStorage.setItem("FirstEnterGameDate",e),this.setGameIntegral(this.getGameIntegral()+100),this.toastMessage(9))},getRankData:function(n){cc.loader.loadRes("panel/RankingListView",function(e,t){if(!e){cc.log("进到此处了吗，，666，，，，");var o=cc.instantiate(t);null!=n&&(o.getComponent(cc.Component).shareTicket=n),cc.director.getScene().children[0].addChild(o)}})},removeRankData:function(){window.wx.postMessage({messageType:0})},submitScore:function(e){window.wx.postMessage({messageType:3,MAIN_MENU_NUM:n.MAIN_MENU_NUM,score:e})}};t.exports=i,cc._RF.pop()},{GameConfig:"GameConfig"}],GameUiTools:[function(e,t,o){"use strict";cc._RF.push(t,"8a5b8MlC/hC9KoORQxJsNKR","GameUiTools");e("GameConfig");var n=e("GameTools"),i={newSprite:function(e,t){var o=new cc.Node;return t?(e=e.split(".")[0],o.addComponent(cc.Sprite).spriteFrame=n.love2048FrameCache.getSpriteFrame(e)):o.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame("res/raw-assets/resources/"+e),o},setNodeSpriteFrame:function(e,t){e.getComponent(cc.Sprite).spriteFrame=n.love2048FrameCache.getSpriteFrame(t)},setButtonClickEvents:function(e,t,o,n,i){var c=new Array;null==t.length?c[0]=t:c=t;for(var a=0;a<c.length;a++){var s=new cc.Component.EventHandler;s.target=e.node,s.component=e.node.name,s.handler=o,null==t.length?s.customEventData=n:s.customEventData=a;var r=c[a].addComponent(cc.Button);r.clickEvents.push(s),(null==i||i)&&(r.transition=cc.Button.Transition.SCALE,r.duration=.1,r.zoomScale=1.2)}},scheduleOnce:function(e,t,o){e.runAction(cc.sequence(cc.delayTime(o),cc.callFunc(t,e)))},loadingScene:function(n,e){e?cc.loader.loadRes("panel/LoadingLayer",function(e,t){var o=cc.instantiate(t);cc.director.getScene().children[0].addChild(o),cc.director.preloadScene(n,function(){cc.director.loadScene(n)})}):cc.director.preloadScene(n,function(){cc.director.loadScene(n)})},loadingLayer:function(e){cc.loader.loadRes(e,function(e,t){if(!e){var o=cc.instantiate(t);cc.director.getScene().children[0].addChild(o)}})}};t.exports=i,cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools"}],Game:[function(e,t,o){"use strict";cc._RF.push(t,"0486fOqHrJN+6c5PQg5FHh9","Game");var n=e("Player"),i=(e("ScoreFX"),e("Star"),e("GameTools")),c=e("GameUiTools"),a=e("GameConfig");e("AnimLayerTool"),cc.Class({extends:cc.Component,properties:{starPrefab:{default:null,type:cc.Prefab},scoreFXPrefab:{default:null,type:cc.Prefab},maxStarDuration:0,minStarDuration:0,ground:{default:null,type:cc.Node},player:{default:null,type:n},scoreDisplay:{default:null,type:cc.Label},scoreAudio:{default:null,url:cc.AudioClip},btnNode:{default:null,type:cc.Node},gameOverNode:{default:null,type:cc.Node},controlHintLabel:{default:null,type:cc.Label},keyboardHint:{default:"",multiline:!0},touchHint:{default:"",multiline:!0},bg:{default:null,type:cc.Node}},onLoad:function(){cc.log("game onLoad。。。。。。。。。。"),this.groundY=this.ground.y+this.ground.height/2,this.currentStar=null,this.currentStarX=0,this.timer=0,this.starDuration=0,this.enabled=!1;var e=cc.sys.isMobile?this.touchHint:this.keyboardHint;this.controlHintLabel.string=e,this.starPool=new cc.NodePool("Star"),this.scorePool=new cc.NodePool("ScoreFX"),this.scheduleOnce(function(){cc.log("计时器。。。。。。。。。。"),this.bg.active=!1,this.onStartGame()},.1)},onStartGame:function(){cc.log("game onstartgame..............."),this.resetScore(),this.enabled=!0,this.btnNode.x=3e3,this.gameOverNode.active=!1,this.player.startMoveAt(cc.v2(0,this.groundY)),this.spawnNewStar()},spawnNewStar:function(){var e=null;e=0<this.starPool.size()?this.starPool.get(this):cc.instantiate(this.starPrefab),this.node.addChild(e),e.setPosition(this.getNewStarPosition()),e.getComponent("Star").init(this),this.startTimer(),this.currentStar=e,cc.log("前，，，，，，，，，，")},despawnStar:function(e){this.starPool.put(e),this.spawnNewStar()},startTimer:function(){this.starDuration=this.minStarDuration+Math.random()*(this.maxStarDuration-this.minStarDuration),this.timer=0},getNewStarPosition:function(){this.currentStar||(this.currentStarX=2*(Math.random()-.5)*this.node.width/2);var e=0,t=this.groundY+Math.random()*this.player.jumpHeight+50,o=this.node.width/2;return e=0<=this.currentStarX?-Math.random()*o:Math.random()*o,this.currentStarX=e,cc.v2(e,t)},gainScore:function(e){this.score+=1,a.GameCore=this.score,a.GameCore>a.GameHeightScore&&(a.GameHeightScore=a.GameCore,i.setItemByLocalStorage("GameHeightScore",a.GameHeightScore)),this.scoreDisplay.string="Score: "+this.score.toString();var t=this.spawnScoreFX();this.node.addChild(t.node),t.node.setPosition(e),t.play(),cc.audioEngine.playEffect(this.scoreAudio,!1)},resetScore:function(){this.score=0,this.scoreDisplay.string="Score: "+this.score.toString()},spawnScoreFX:function(){var e;return 0<this.scorePool.size()?(e=this.scorePool.get(),cc.log(e,"大于00000000000000"),e.getComponent("ScoreFX")):((e=cc.instantiate(this.scoreFXPrefab).getComponent("ScoreFX")).init(this),cc.log(e,"小于00000000000000"),e)},despawnScoreFX:function(e){this.scorePool.put(e)},update:function(e){if(cc.log("game update............"),this.timer>this.starDuration)return this.gameOver(),void(this.enabled=!1);this.timer+=e},gameOver:function(){this.player.enabled=!1,this.player.stopMove(),this.currentStar.destroy(),this.btnNode.x=0,i.playSimpleAudioEngine(2),a.IS_GAME_START=!1,c.loadingLayer("panel/GameOver")}});cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools",Player:"Player",ScoreFX:"ScoreFX",Star:"Star"}],Loading:[function(e,t,o){"use strict";cc._RF.push(t,"0136aOotAxG/JNg/oS69K5O","Loading"),cc.Class({extends:cc.Component,properties:{speed:10,anim:{default:null,type:cc.Animation},bar:{default:null,type:cc.ProgressBar}},onLoad:function(){this.bool=!0,this.anim.play("cc").wrapMode=cc.WrapMode.Loop,cc.log("load..onload",this.bar),this.bar.progress=0},update:function(e){this._updateProgress(this.bar,e)},_updateProgress:function(e,t){var o=e.progress;o<1?o+=this.speed*t:this.bool&&(this.bool=!1,cc.director.loadScene("game")),this.bar.progress=o}}),cc._RF.pop()},{}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"c10bbPdGYhDWaLoKLV38bHf","Player"),cc.Class({extends:cc.Component,properties:{jumpHeight:0,jumpDuration:0,squashDuration:0,maxMoveSpeed:0,accel:0,jumpAudio:{default:null,url:cc.AudioClip}},init:function(){},onLoad:function(){cc.log("player onLoad................"),this.enabled=!1,this.accLeft=!1,this.accRight=!1,this.xSpeed=0,this.minPosX=-this.node.parent.width/2,this.maxPosX=this.node.parent.width/2,this.jumpAction=this.setJumpAction(),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this);var e=cc.Canvas.instance.node;e.on("touchstart",this.onTouchStart,this),e.on("touchend",this.onTouchEnd,this),cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this)},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this);var e=cc.Canvas.instance.node;e.off("touchstart",this.onTouchStart,this),e.off("touchend",this.onTouchEnd,this)},onDeviceMotionEvent:function(e){var t=e.acc;0<t.x?(this.accLeft=!1,this.accRight=!0):t.x<0&&(this.accLeft=!0,this.accRight=!1)},onKeyDown:function(e){switch(e.keyCode){case cc.KEY.a:case cc.KEY.left:this.accLeft=!0,this.accRight=!1;break;case cc.KEY.d:case cc.KEY.right:this.accLeft=!1,this.accRight=!0}},onKeyUp:function(e){switch(e.keyCode){case cc.KEY.a:case cc.KEY.left:this.accLeft=!1;break;case cc.KEY.d:case cc.KEY.right:this.accRight=!1}},onTouchStart:function(e){console.log("触摸开始，，，，，，，，，，，，，"),e.getLocation().x>=cc.winSize.width/2?(this.accLeft=!1,this.accRight=!0):(this.accLeft=!0,this.accRight=!1)},onTouchEnd:function(e){this.accLeft=!1,this.accRight=!1},setJumpAction:function(){var e=cc.moveBy(this.jumpDuration,cc.v2(0,this.jumpHeight)).easing(cc.easeCubicActionOut()),t=cc.moveBy(this.jumpDuration,cc.v2(0,-this.jumpHeight)).easing(cc.easeCubicActionIn()),o=cc.scaleTo(this.squashDuration,1,.6),n=cc.scaleTo(this.squashDuration,1,1.2),i=cc.scaleTo(this.squashDuration,1,1),c=cc.callFunc(this.playJumpSound,this);return cc.repeatForever(cc.sequence(o,n,e,i,t,c))},playJumpSound:function(){cc.audioEngine.playEffect(this.jumpAudio,!1)},getCenterPos:function(){return cc.v2(this.node.x,this.node.y+this.node.height/2)},startMoveAt:function(e){cc.log("startMoveAt......"),this.enabled=!0,this.xSpeed=0,this.node.setPosition(e),this.node.runAction(this.setJumpAction())},stopMove:function(){this.node.stopAllActions()},update:function(e){this.accLeft?this.xSpeed-=this.accel*e:this.accRight&&(this.xSpeed+=this.accel*e),Math.abs(this.xSpeed)>this.maxMoveSpeed&&(this.xSpeed=this.maxMoveSpeed*this.xSpeed/Math.abs(this.xSpeed)),this.node.x+=this.xSpeed*e,this.node.x>this.node.parent.width/2?(this.node.x=this.node.parent.width/2,this.xSpeed=0):this.node.x<-this.node.parent.width/2&&(this.node.x=-this.node.parent.width/2,this.xSpeed=0)}}),cc._RF.pop()},{}],RankingListView:[function(e,t,o){"use strict";cc._RF.push(t,"c79d1NDvH9FBZjyFe95o1oF","RankingListView");var n=e("GameConfig"),i=e("AnimLayerTool"),c=e("GameTools"),a=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backButton:cc.Node,shareButton:cc.Node,rankingScrollView:cc.Sprite,shareTicket:null},onLoad:function(){this.showAnimation(!0)},start:function(){if(a.setButtonClickEvents(this,this.backButton,"backButtonFunc"),a.setButtonClickEvents(this,this.shareButton,"shareButtonFunc"),null!=this.shareTicket){var e=new cc.Node;e.addComponent(cc.Label).string="群排行",e.setPosition(-260,503),this.node.addChild(e)}this.tex=new cc.Texture2D,window.sharedCanvas.width=960,window.sharedCanvas.height=640,cc.log(this.shareTicket),null!=this.shareTicket?window.wx.postMessage({messageType:5,MAIN_MENU_NUM:n.MAIN_MENU_NUM,shareTicket:this.shareTicket}):window.wx.postMessage({messageType:1,MAIN_MENU_NUM:n.MAIN_MENU_NUM})},shareButtonFunc:function(e){c.playSimpleAudioEngine(4),setTimeout(function(){c.sharePicture("shareTicket")},100)},backButtonFunc:function(e){c.playSimpleAudioEngine(0),c.removeRankData(),window.wx.postMessage({messageType:4,MAIN_MENU_NUM:n.MAIN_MENU_NUM}),this.node.destroy()},_updateSubDomainCanvas:function(){null!=window.sharedCanvas&&(this.tex.initWithElement(window.sharedCanvas),this.tex.handleLoadedTexture(),this.rankingScrollView.spriteFrame=new cc.SpriteFrame(this.tex))},update:function(){this._updateSubDomainCanvas()},showAnimation:function(e){e&&(i.bottonAnim(this.backButton),i.bottonAnim(this.shareButton))}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}],ScoreAnim:[function(e,t,o){"use strict";cc._RF.push(t,"b1f9e88YHdGr7qD17shtr2w","ScoreAnim"),cc.Class({extends:cc.Component,init:function(e){this.scoreFX=e},hideFX:function(){cc.log("ani,,,,,hideFX,,,,,,,,,,,,,,"),this.scoreFX.despawn()}}),cc._RF.pop()},{}],ScoreFX:[function(e,t,o){"use strict";cc._RF.push(t,"dd18c67pr9OM5wJb/yY6Onf","ScoreFX"),cc.Class({extends:cc.Component,properties:{anim:{default:null,type:cc.Animation}},init:function(e){cc.log("scoreFX init,,,,,,,,,,,,,,,,,"),this.game=e,this.anim.getComponent("ScoreAnim").init(this)},despawn:function(){cc.log("scoreFX despawn............"),this.game.despawnScoreFX(this.node)},play:function(){this.anim.play("score_pop")}}),cc._RF.pop()},{}],Star:[function(e,t,o){"use strict";cc._RF.push(t,"21890Xr4RBJlqTJhmXJ/f5s","Star"),cc.Class({extends:cc.Component,properties:{pickRadius:0},onLoad:function(){this.enabled=!1},init:function(e){cc.log("star  init...................."),this.game=e,this.enabled=!0,this.node.opacity=255},reuse:function(e){this.init(e)},getPlayerDistance:function(){var e=this.game.player.getCenterPos();return this.node.position.sub(e).mag()},onPicked:function(){var e=this.node.getPosition();this.game.gainScore(e),this.game.despawnStar(this.node)},update:function(e){if(this.getPlayerDistance()<this.pickRadius)this.onPicked();else{var t=1-this.game.timer/this.game.starDuration;this.node.opacity=50+Math.floor(205*t)}}}),cc._RF.pop()},{}],prepare:[function(e,t,o){"use strict";cc._RF.push(t,"761d5bT8jBLwptOiom1pfTY","prepare");var n=e("GameTools"),i=e("GameConfig");cc.Class({extends:cc.Component,properties:{},start:function(){i.GameHeightScore=n.getItemByLocalStorage("GameHeightScore",0)},onStartGame:function(){n.authorization()}}),cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools"}]},{},["AnimLayerTool","Game","GameConfig","GameOver","GameTools","GameUiTools","Loading","Player","RankingListView","ScoreAnim","ScoreFX","Star","prepare"]);