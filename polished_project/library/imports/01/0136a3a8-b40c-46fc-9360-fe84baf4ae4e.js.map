{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\Loading.js"],"names":["cc","Class","extends","Component","properties","speed","anim","default","type","Animation","bar","ProgressBar","onLoad","bool","animState","play","wrapMode","WrapMode","Loop","log","progress","update","dt","_updateProgress","pro","director","loadScene"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAM,EADE;AAERC,cAAK;AACDC,qBAAQ,IADP;AAEDC,kBAAKR,GAAGS;AAFP,SAFG;AAMRC,aAAI;AACAH,qBAAQ,IADR;AAEAC,kBAAKR,GAAGW;AAFR;AANI,KAHP;AAcLC,YAAO,kBAAW;AACd,aAAKC,IAAL,GAAY,IAAZ;AACA,YAAIC,YAAY,KAAKR,IAAL,CAAUS,IAAV,CAAe,IAAf,CAAhB;AACA;AACAD,kBAAUE,QAAV,GAAqBhB,GAAGiB,QAAH,CAAYC,IAAjC;AACAlB,WAAGmB,GAAH,CAAO,cAAP,EAAuB,KAAKT,GAA5B;AACA;AACI,aAAKA,GAAL,CAASU,QAAT,GAAoB,CAApB;AACL;AAEF,KAxBI;;AA0BLC,YAAO,gBAASC,EAAT,EAAY;AACf,aAAKC,eAAL,CAAqB,KAAKb,GAA1B,EAA+BY,EAA/B;AACH,KA5BI;AA6BLC,qBAAgB,yBAASZ,WAAT,EAAsBW,EAAtB,EAAyB;;AAErC,YAAIE,MAAMb,YAAYS,QAAtB;AACA;AACA,YAAII,MAAM,GAAV,EAAgB;AACZA,mBAAO,KAAKnB,KAAL,GAAaiB,EAApB;AACH,SAFD,MAEK;AACD,gBAAI,KAAKT,IAAT,EAAe;AACX,qBAAKA,IAAL,GAAY,KAAZ;AACAb,mBAAGyB,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACA;AACA;AACA;AACA;AAEH;AAEJ;AACD,aAAKhB,GAAL,CAASU,QAAT,GAAoBI,GAApB;AACH;;AAED;AAlDK,CAAT","file":"Loading.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        speed:10,\r\n        anim:{\r\n            default:null,\r\n            type:cc.Animation\r\n        },\r\n        bar:{\r\n            default:null,\r\n            type:cc.ProgressBar\r\n        }\r\n    },\r\n    onLoad:function() {\r\n        this.bool = true;\r\n        var animState = this.anim.play('cc');\r\n        // 设置循环模式为 Loop\r\n        animState.wrapMode = cc.WrapMode.Loop;\r\n        cc.log(\"load..onload\", this.bar);\r\n        //if (this.bar.progress) {\r\n            this.bar.progress = 0;\r\n       // }\r\n        \r\n    },\r\n    \r\n    update:function(dt){\r\n        this._updateProgress(this.bar, dt);\r\n    },\r\n    _updateProgress:function(ProgressBar, dt){\r\n        \r\n        var pro = ProgressBar.progress;\r\n        //cc.log(\"load..pro\", pro);\r\n        if (pro < 1.0 ) {\r\n            pro += this.speed * dt;\r\n        }else{\r\n            if (this.bool) {\r\n                this.bool = false;\r\n                cc.director.loadScene('game');\r\n                // cc.director.preloadScene('game', function () {\r\n                //     cc.log(\"Next scene preloaded\");\r\n                //     //cc.director.loadScene('game');\r\n                // });\r\n               \r\n            }\r\n            \r\n        }\r\n        this.bar.progress = pro;\r\n    }\r\n\r\n    // update (dt) {},\r\n});\r\n"]}